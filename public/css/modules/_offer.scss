.WD__offer {
    position:fixed;
    top:40%;
    left:50%;
    width:50%;
    margin-top:50px;
    cursor:default;
    text-align:center;
    will-change:opacity, transform;
    @include accelerate();
    z-index:200000;
}
.WD__offer__avatar__image {
    background-image:url(/public/images/avatar/gif/1.gif);
    // background-image:url(/public/images/avatar/gif/2.gif);
    // background-image:url(http://s01.yapfiles.ru/files/1300145/1231332.gif);
    background-image:url(http://www.playcast.ru/uploads/2011/04/29/2493548.gif);
}
.WD__offer__wrapper {
    position:relative;
    display:inline-block;
    vertical-align:top;
    margin:0 0 0 -20.45vw;

    &:after {
        content:"";
        @include abs();
        width:40%;
        left:30%;
        border-radius:25px;
        box-shadow:0 16px 80px -16px rgba($black_gray,.05);
        z-index:-1;
    }
    &:before {
        content:"";
        position:absolute;
        top:-75%;
        right:0;
        width:118%;
        height:320%;
        border-radius:25% 25% 50% 50%;
        z-index:-4;
    }
}
.WD__offer__container {
    position:relative;
    text-align:left;
    padding:2.82vh 6.25vw 2.45vh 4.25vw;
    color:$black_light;
    font-family:$roboto;
    font-weight:300;
    font-size:3.28vh;
    line-height:5.7vh;
    letter-spacing:0.32px;
    @include accelerate();
    z-index:0;

    &:before {
        content:"";
        position:absolute;
        top:-1px;
        left:5%;
        width:90%;
        height:0.25vh;
        background:rgba($green,.4);
        filter:blur(5px);
        z-index:-2;
    }
    &:after {
        content:"";
        @include abs();
        border-radius:2vw 3.6vw 2vw 3vw;
        background:linear-gradient(310deg, rgba(#fff,.92), rgba(#fff,.97));
        border-top:0.45vh solid rgba($green,.7);
        background-clip:border-box;
        box-shadow:0 16px 64px -16px rgba($black_gray,.18), 0 2px 6px rgba(0, 0, 0, 0.08);
        z-index:-1;
    }
}
.WD__offer__text {
    display:inline-block;
    vertical-align:top;
    @include accelerate();
    will-change:opacity, transform;
}
.WD__offer__avatar {
    position:absolute;
    top:-7.3vh;
    right:0.8vw;
    width:18.1vh;
    height:18.1vh;
    @include accelerate();
    will-change:opacity, transform;
}
.WD__offer__avatar__image__container {
    position:absolute;
    top:-0.55vh;
    right:0.94vw;
    width:10.2vh;
    height:10.2vh;
    border-radius:42%;
    background-clip:border-box;
    border:0.6vh solid rgba($black_gray,.2);
    background-color:#fff;
    box-shadow:-7px 10px 6px -10px rgba($bg_color,.2);
    overflow:hidden;
}
.WD__offer__avatar__image {
    position:absolute;
    top:0;
    left:-0.2vh;
    width:102%;
    height:102%;
    background-repeat:no-repeat;
    background-position:top center;
    background-size:cover;
    transform:rotate(2deg);
    opacity:0.95;
}
.WD__offer__icon {
    width:100%;
    height:100%;
    opacity:0.9;
    transform:rotate(-3deg);
}
.WD__offer__icon__color {
    fill:$green;
}
.WD__offer__icon__bulb1 {
    fill:#24D8D6;
    animation:WD__offer__icon__bulb1 1.7s linear infinite alternate;
}
.WD__offer__icon__bulb2 {
    fill:#FC6A39;
    animation:WD__offer__icon__bulb2 1.2s linear infinite alternate;
}
.WD__offer__bulb3 {
    position:absolute;
    top:-4.27vh;
    right:-2.34vw;
    z-index:-2;
}
.WD__offer__bulb3__item {
    width:24.64vh;
    height:24.64vh;
    opacity:0.35;
    transform:translate3d(4.9vw, 4.1vh, 0) scale(0.18);
}
.WD__offer__bulb4 {
    position:absolute;
    top:2.84vh;
    right:-3.51vw;
    z-index:-1;
}
.WD__offer__bulb4__item {
    width:18.8vh;
    height:18.8vh;
    opacity:0.5;
    transform:translate3d(4.2vw, 3vh, 0) scale(0.15);
}
.WD__offer__bulb {
    background-color:$green;
    border-radius:50%;
    transition:transform 0.5s $cubic57, opacity 0.5s $cubic57, background-color 0.3s $cubic57;
    overflow:hidden;

    &:before {
        content:"";
        position:absolute;
        border-radius:50%;
        opacity:0;
        background-color:rgba(#000,.06);
        transform:translate3d(0, 10px, 0) scale(0);
        transition:opacity 0.25s $cubic215, transform 0.25s $cubic25, background-color 0.25s $cubic25;
        z-index:-1;
    }
    &:hover {
        &:before {
            opacity:1;
            transform:translate3d(0, 0, 0) scale(1);
        }
    }
    &:active {
        &:before {
            transform:translate3d(0, 0, 0) scale(1.2);
            background-color:rgba(#000,.1);
        }
    }
}
.WD__offer__bulb3__item {
    &:before {
        top:29%;
        left:22.5%;
        width:55%;
        height:55%;
    }
}
.WD__offer__bulb4__item {
    &:before {
        top:22%;
        left:20%;
        width:60%;
        height:60%;
    }
}
.WD__offer__bulb__text {
    display:block;
    position:relative;
    @include abs();
    color:#fff;
    font-family:$default;
    font-weight:bold;
    text-align:center;
    border-radius:50%;
    cursor:pointer;
    opacity:0;
    transform:translate3d(0, 0, 0);
    transition:transform 0.25s $cubic25, opacity 0.2s $cubic57;
    z-index:0;

    &:hover {
        transform:translate3d(0, 0, 0) scale(1.15);
    }
    &:active {
        transform:translate3d(0, 1px, 0) scale(0.85);
    }
}
.WD__offer__bulb__text--yes {
    font-size:4vh;
    line-height:27.6vh;
    letter-spacing:0.5px;
}
.WD__offer__bulb__text--no {
    font-size:2.7vh;
    line-height:19.2vh;
    letter-spacing:-0.5px;
}
@keyframes WD__offer__icon__bulb1 {
    0% {
        transform:translate3d(0, 4px, 0);
    }
    100% {
        transform:translate3d(-4px, 7px, 0);
    }
}
@keyframes WD__offer__icon__bulb2 {
    0% {
        transform:translate3d(0, 4px, 0);
    }
    100% {
        transform:translate3d(1px, 7px, 0);
    }
}
.WD__offer__cloud {
	position:absolute;
	text-align:center;
    font-family:$default;
    font-size:0;
    padding:0 20px;
    border-radius:50%;
    transform:translate3d(0, 0, 0) scale(0);
    transition:transform 0.32s $cubic57, opacity 0.32s $cubic57;
    opacity:0;
    @include accelerate();
    will-change:opacity, transform;
    cursor:pointer;
    z-index:-3;

    &:after {
        content:"";
        display:inline-block;
        vertical-align:middle;
        width:0;
        height:100%;
    }
    &:before {
        content:"";
        @include abs();
        border-radius:50%;
        @include accelerate(true);
        will-change:transform, background-color;
        transition:transform 0.25s $cubic25, background-color 0.25s $cubic215;
    }
}
.WD__offer__cloud1 {
    top:-20.22vh;
    left:-9.11vh;
    width:25.64vh;
    height:25.35vh;
    color:#fefefe;

    &:before {
        background-color:rgba(lighten($black_light,1.5%),.97);
    }
}
.WD__offer__cloud2 {
    top:-23.5vh;
    right:-4.27vh;
    width:21.65vh;
    height:21.36vh;
    color:#fff;

    &:before {
        background-color:rgba(lighten($black_dark,3%),.97);
    }
}
.WD__offer__cloud3 {
    top:-18.8vh;
    right:50%;
    width:33.61vh;
    height:32.19vh;
    color:#fbfbfb;
    margin-right:-16.8vh;
    padding-bottom:4.55vh;

    &:before {
        background-color:rgba(lighten($black_light,3%),.97);
    }
    .WD__offer__cloud__text {
        font-size:2.7vh;
        line-height:3.27vh;
    }
}
.WD__offer__cloud4 {
    top:3.56vh;
    right:-6.41vh;
    width:31.62vh;
    height:30.48vh;
    color:#fbfbfb;
    margin-right:-16.8vh;

    &:before {
        background-color:rgba(lighten($black_light,3%),.97);
    }
    .WD__offer__cloud__text {
        font-size:2.7vh;
        line-height:3.27vh;
    }
}
.WD__offer__cloud__text {
    position:relative;
    display:inline-block;
    vertical-align:middle;
    font-size:2.42vh;
    line-height:3.41vh;
}
.WD__offer__cloud:hover:before {
    background-color:$green;
}
.WD__offer__cloud:active:before {
    transform:translate3d(0, 0, 0) scale(1.06);
}
.WD__offer__close {
    position:absolute;
    top:0.56vh;
    right:0.42vh;
    width:3.41vh;
    height:3.41vh;
    background-color:#fff;
    border-radius:50%;
    box-shadow:0 2px 6px -1px rgba($bg_color,.25);
    cursor:pointer;
    transition:transform 0.3s cubic-bezier(0.42, 0, 0.05, 1.5);

    &:before {
        content:"";
        @include abs_50(10, 10);
        opacity:0.9;
        background:url(/public/images/panel_popup_close.svg) no-repeat 0 0 / cover;
    }
    &:hover {
        transform:scale(1.2);
    }
    &:active {
        transform:scale(1);
    }
}

.WD__offer {
    opacity:0;
    transform:translate3d(101%, 0, 0);
}
.WD__offer--show,
.WD__offer--ACTIVE {
    animation:WD__offer__slipRight-show .42s $cubic57 forwards;

    .WD__offer__text {
        animation:WD__offer__slipRight-elem1-show .5s $cubic57 forwards;
    }
    .WD__offer__avatar {
        animation:WD__offer__slipRight-elem2-show .5s $cubic57 forwards;
    }
}
.WD__offer:hover,
.WD__offer--ACTIVE {
    .WD__offer__bulb3__item {
        opacity:0.97;
        background-color:#24D8D6;
        transform:translate3d(-31vh, 7vh, 0);
    }
    &.WD__offer--small {
        .WD__offer__bulb3__item {
            transform:translate3d(-29.1vh, 5.7vh, 0);
        }
    }
    .WD__offer__bulb4__item {
        opacity:0.95;
        background-color:$red;
        transform:translate3d(-18.23vh, 4.2vh, 0);
    }
    &.WD__offer--small {
        .WD__offer__bulb4__item {
            transform:translate3d(-18.33vh, 3.5vh, 0);
        }
    }
    .WD__offer__bulb__text {
        opacity:1;
        transition:transform 0.3s $cubic215, opacity 0.5s $cubic57;
    }
    .WD__offer__cloud {
        opacity:1;
        transform:translate3d(0, 0, 0) scale(1);
        transition:transform 0.5s cubic-bezier(0.42, 0, 0.05, 1.25), opacity 0.32s $cubic57;
    }
    .WD__offer__cloud__num1 {
        transition-delay:0.3s;
    }
    .WD__offer__cloud__num2 {
        transition-delay:0.4s;
    }
    .WD__offer__cloud__num3 {
        transition-delay:0.5s;
    }
    .WD__offer__cloud__num4 {
        transition-delay:0.6s;
    }
    .WD__offer__wrapper {
        &:before {
            top:-100%;
            right:-14%;
            width:118%;
            height:400%;
            transform:scale(1.25);
        }
    }
}
.WD__offer--small {
    margin-top:75px;

    .WD__offer__avatar {
        top:-5.41vh;
        right:0.8vw;
        width:15.38vh;
        height:15.38vh;
    }
    .WD__offer__avatar__image__container {
        top:-0.55vh;
        right:0.94vw;
        width:8.54vh;
        height:8.54vh;
        border-width:0.56vh;
    }
    .WD__offer__container {
        padding:1.85vh 6.25vw 1.85vh 3.35vw;
        font-size:2.84vh;
        line-height:5.7vh;
        letter-spacing:0.25px;
    }
    .WD__offer__bulb3 {
        top:-4.27vh;
        right:-1.44vw;
    }
    .WD__offer__bulb4 {
        top:2.44vh;
        right:-2.31vw;
    }
    .WD__offer__bulb3__item {
        width:20.64vh;
        height:20.64vh;
    }
    .WD__offer__bulb4__item {
        width:14.8vh;
        height:14.8vh;
    }
    .WD__offer__bulb__text--yes {
        font-size:4vh;
        line-height:24.6vh;
    }
    .WD__offer__bulb__text--no {
        font-size:2.5vh;
        line-height:15.7vh;
    }
    .WD__offer__cloud1 {
        left:-11.39vh;
    }
    .WD__offer__cloud2 {
        right:-4.27vh;
    }
}

@keyframes WD__offer__slipRight-show {
    0% {
        opacity:0;
        transform:translate3d(24vw, 65px, 0) scale3d(1.4, 0, 1);
    }
    100% {
        opacity:1;
        transform:translate3d(0, 0, 0) scale3d(1, 1, 1);
    }
}
@keyframes WD__offer__slipRight-elem1-show {
    0%, 20% {
        opacity:0;
        transform:translate3d(100px, 0, 0);
    }
    100% {
        opacity:1;
        transform:translate3d(0, 0, 0);
    }
}
@keyframes WD__offer__slipRight-elem2-show {
    0%, 20% {
        opacity:0;
        transform:translate3d(100px, 0, 0) scale3d(0, 0, 1);
    }
    100% {
        opacity:1;
        transform:translate3d(0, 0, 0) scale3d(1, 1, 1);
    }
}
// .WD__offer,
// .WD__offer__avatar__image__container,
// .WD__offer__icon__color,
// .WD__offer__text {
//     @include accelerate();
//     transition:transform 0.5s $cubic57;
//     transform:scaleX(1);
// }
//
// .WD__offer--rotate {
//     transform:translate3d(-55vw, 0, 0) scaleX(-1);
//
//     .WD__offer__container {
//         border-radius:2vw 3vw 2vw 3.6vw;
//     }
//     .WD__offer__avatar__image__container {
//         transform:translate3d(0, 0, 0) scaleX(-1);
//     }
//     .WD__offer__text {
//         transform:translate3d(-1.1vw, 0, 0) scaleX(-1);
//     }
//     .WD__offer__icon__color {
//         transform:translate3d(28px, 0, 0);
//     }
//     .WD__offer__icon__bulb2 {
//         animation:WD__offer__icon__bulb2--rotate 1.2s linear infinite alternate;
//     }
// }
